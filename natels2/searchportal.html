<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rare Elements Search</title>
<script src="http://libs.cartocdn.com/cartodb.js/v3/3.11/cartodb.js"></script>
  <script src="esvw.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="natels.css">
<style>
#myUL {
	width: 100%;
	max-width:900px;
	cursor: pointer;
	overflow-y: auto;
	max-height: 400px;
	box-sizing: border-box;
	z-index: 1001;
}
.link-class:hover{
	background-color:#f1f1f1;
  }

</style>
</head>
<body>
<header>
 <a href="http://www.georgiawildlife.com"><img id="wrd-logo" class="top-button" src="img/wildlife_resources_logo_white.png" alt="Wildlife Resources Logo"></a>
<a href="home.html"><img id="portal-logo" class="top-button" src="img/georgia-rare-natural-elements.png" alt="Georgia Rare Natural Element Logo"></a></div>
<h1>Search for Rare Elements</h1> 
 </header>
<section>

</br>
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search Rare Elements" title="Press Enter" class="form-control">
<ul id="myUL"> 
</ul>

</section>

<script>

window.onload = function()
{
var searchInput = document.getElementById("myInput").value;
console.log(searchInput);
if(searchInput.length > 0){
$('#myInput').focus();
myFunction();
}
}

var searchData = liveSearch.rows;
$('#myUL').hide();
(function(){
	$.each(searchData, function(key, value){
    $('#myUL').append('<li class="list-group-item link-class"> '+ "<a href='#'>" + "<em>" + value.sname + "</em>" + "<span class='text-muted'> (" + value.scomname + ")" + '<span class="hidden">'+ value.es_id + "|" + value.fus_tab_id +  "</a></li>");
	$('#myUL').on('click', 'li', function() {
	 var getInfo = $(this).text().split('|');
	 var es_id =($.trim(getInfo[0].slice(-5)));
	 var fusiontable =($.trim(getInfo[1]));
	 window.location.href = 'profile.html?es_id=' + es_id + '&fus_tab_id=' + fusiontable;
	})
	$("#myInput").hover(function(){
		$('#myUL').show();
		});
	/*$("#myInput").click(function(){
		$('#myInput').trigger({
			type: 'keypress',
			which: 35,
			});
		});*/
	$('#myUL').mouseleave(function(){
		$('#myUL').hide();
	 });
	 $('#myInput').keypress(function(){
		$('#myUL').show();
	});
			});
})();
</script>
<script>
function myFunction() {
    var input, filter, ul, li, a, i;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";

        }
    }
}
</script>
</body>
</html>